FROM gradle:jdk8 as builder

COPY --chown=gradle:gradle . /reactive-poc
WORKDIR /reactive-poc/spring-reactive-non-blocking-io

RUN gradle build wrapper --refresh-dependencies --warning-mode none

CMD [ "sh", "-c", "/reactive-poc/spring-reactive-non-blocking-io/gradlew cleanTest test --warning-mode=none" ]
